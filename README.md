# ArtRecommenderSystem
 **Art Recommender System** представляет собой рекомендательную систему, в которой используется подходы коллаборативной фильтрации, контент-ориентированной фильтрации и парметрического запроса.
 
 ## Главная страница
 После запуска программы открывается главная страница программы, на которой представлен весь список видов искусства. Информация о каждом виде искусства представлена в виде карточки. Она содержит наименование вида искусства, категорию, к которой он относится, дату его первого упоминания, количество музеев, информацию о проводимых мастер-классах, популярность в настоящее время и список жанров, в которых работают представители данного вида искусства.

![main](Screenshots//1-main-full.png "Главная страница")

 ## Избранное
Нажав на кнопку "Нравится", пользователь может добавить понравившиеся виды искусств в список "Избранное". Вкладку "Избранное" можно найти на странице "Моя галерея". При повторном клике на кнопку "Нравится" вид искусства удаляется из списка.

![favorites](Screenshots//2-favorites.png "Избранное")

 ## Рекомендации
 Рекомендации выдаются на основе избранных видов искусства, поэтому для их получения пользователю нужно добавить хотя бы один вид искусства в "Избранное".
 
 На странице "Рекомендации" можно выбрать механизм подбора рекомендаций: **коллаборативная фильтрация** или **контент-ориентированная фильтрация**.
 
 **При выборе коллаборативной фильтрации** пользователю будут выданы **предпочтения пользователей с похожими интересами**. Данный алгоритм фильтрации основан на показателе сходства между пользователями. Всех пользователей можно условно разделить на группы на основе их предпочтений и рекомендовать им виды искусств той группы, к которой они принадлежат. По алгоритму сначала отбираются пользователи, у которых число совпадений в предпочтениях с текущим пользователем максимально. Затем их предпочтения объединяются и выдаются в рекомендациях. Интересы наиболее похожих пользователей, чьи предпочтения были рекомендованы, можно увидеть вверху окна. Чем больше видов искусства добавлено в "Избранное", тем точнее будут рекомендации и меньше будет список интересов.

![collaborative-filtering](Screenshots//4-collaborative-filtering.png "Коллаборативная фильтрация")

**При выборе контент-ориентированной фильтрации** пользователь увидит **рекомендации на основе своих предпочтений**, то есть получит список искусств, наиболее похожих на те, которые он ранее добавил в "Избранное". Данный алгоритм использует меры близости для вычисления сходства. В качестве метрик были выбраны евклидово расстояние и близость по дереву, при этом значение первой метрики в итоговом значении сходства составляет 70%, а второй - 30%. Для всех понравившихся видов искусства вычисляется сходство с другими видами, не добавленными в "Избранное". Затем для каждого не отмеченного лайком искусства подсчитывается суммарное сходство со всеми избранными. В полученном списке отбираются те искусства, у которых итоговое значение сходства было выше установленного порога в 50%. Пользователю выдаются эти виды искусств в порядке убывания сходства.

![content-based-filtering](Screenshots//5-content-based-filtering.png "Контент-ориентированная фильтрация")

## Чёрный список
Если какие-то из предложенных видов искусств не входят в интересы пользователя, он может нажать "Не рекомендовать". Тогда эти виды искусства тут же удалятся из списка, будут добавлены в "Черный список" и больше не будут появляться в рекомендациях. "Черный список" можно найти на странице "Моя галерея". При повторном клике на кнопку "Не рекомендовать" вид искусства исчезнет из списка.

<p align="center">
 <img src="Screenshots//3-blacklist.png" width="700" alt="Черный список"/>
</p>

## Параметрический поиск
Если пользователь хочет подобрать виды искуссва, удовлетворяющие определённым параметрам, он может воспользоваться функцией "Параметрический поиск" на главной странице программы. При этом откроется дополнительная панель с фильтрами для задания даты первого упоминания, количества музеев, наличия мастер-классов, популярности и списка жанров. После установки необхомых значений и нажатия кнопки "Фильтровать" пользователь увидит виды искусств, которые удовлетворяют заданным критериям (причём каждый найденный вид искусства будет содержать все отмеченные жанры, один из видов популярности и одно из значений наличия мастер-классов).

![parametric-search](Screenshots//6-parametric-search.png "Параметрический поиск")

Если по запросу пользователя ничего не нашлось, он получит близкие к установленным параметрам виды искусств. Это достигается за счёт расширения значений тех фильтров, в которых указывается диапазон (первое упоминание и количество музеев). Например, в данном случае были изменены границы диапазона количества музеев.

![parametric-search-not-found-1-example](Screenshots//7-parametric-search-not-found-full.png "Параметрический запроc, при котором изменились границы диапазона количества музеев")

Границы диапазонов двух фильтров изменяются равномерно и поочерёдно, то есть за каждую итерацию поиска изменяется только один фильтр. Изначально рассчитывается максимальное число итераций поиска, необходимое для полного покрытия каждого из диапазонов. Затем находится общее число итераций и вычисляется частота изменения каждого фильтра. Итерации распределяются между фильтрами в порядке возрастания их частоты. Так как фильтра диапазонов всего два, то сначала итерации будут выделяться менее частотному фильтру, причём номер итерации кратен его частоте, а затем оставшиеся будут назначены второму фильтру. За каждый шаг диапазон количества музеев расширяется на единицу вверх и вниз, а границы диапазона дат первого упоминания - на половину текущего, следующего или предыдущего периода (в зависимости от того, в какой половине периода находился текущий год).

Если после итерации был найден хотя бы один вид искусства, поиск прекращается. Если было найдено больше одного вида искусства, то они будут отранжированы с учётом их близости к исходным фильтрам. Для этого применяется функция, которая рассчитывает оценки отличия от значений исходных фильтров. Она определяет доли выхода за границы каждого из диапазонов, суммириует их и сортирует список видов искусства по возрастанию полученных оценок. Таким образом, пользователю выдаётся список, в котором первыми отображаются те виды искусства, у которых общий выход за границы диапазонов был меньше, а значит, они больше подходили под начальные критерии поиска.

По следующему примеру видно, что первым отображается вид искусства, у которого в исходные диапазоны не попало только количество музеев, вторым - у которого выход за границы числа музеев такой же, однако есть ещё небольшой выход за диапазон дат, а последующие виды искусства, имея аналогичный выход за границы первого фильтра, имеют уже гораздо больший выход за границы значений второго.

![parametric-search-not-found-2-example-1-part](Screenshots//7-parametric-search-not-found-1.png "Параметрический запроc, при котором изменились границы диапазона количества музеев и диапазона дат")
![parametric-search-not-found-2-example-2-part](Screenshots//7-parametric-search-not-found-2.png "Параметрический запроc, при котором изменились границы диапазона количества музеев и диапазона дат. Продолжение")
